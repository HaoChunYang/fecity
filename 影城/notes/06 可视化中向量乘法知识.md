# 06 | 可视化中你必须要掌握的向量乘法知识

本节用数学语言来描述曲线。👍

## 前置知识 - 向量乘法

可以使用它们进行计算曲线的控制点、判断曲线的方向和对曲线进行变换。

- 判断任意一个点，在不在这个扫描器范围内

* 方法一：
  使用向量的方向定义来做

```js
// dir 为向量与 x 轴的夹角
v.dir = function () {
  return Math.atan2(this.y, this.x);
};
// 计算点坐标对应的向量的 dir 值，是否在扫描器的范围内，完成判断
const isInRange = v0.dir > Math.PI / 3 && v0.dir < (2 * Math.PI) / 3;
```

该方法简单、直观。但是如果扫描器方向变换，就必须修改判断夹角的范围

- 方法二：
  向量的乘法来解。
  向量的乘法有两种，一种是点乘，一种是叉乘。

  1.  点乘

      > 假设，现在有两个 N 维向量 a 和 b，a = [a1, a2, ...an]，b = [b1, b2, ...bn]，那向量的点积代码如下：

      ```js
      a•b = a1*b1 + a2*b2 + ... + an*bn
      ```

      > 在 N 维线性空间中，a、b 向量点积的几何含义，**是 a 向量乘以 b 向量在 a 向量上的投影分量。它的物理含义相当于 a 力作用于物体，产生 b 位移所做的功**

      - 两种特殊情况：

      第一种是，当 a、b 两个向量平行时，它们的夹角就是 0°，那么 `a·b=|a| * |b|`，用 JavaScript 代码表示就是：`a.x * b.x + a.y * b.y === a.length * b.length;`

      第二种是，当 a、b 两个向量垂直时，它们的夹角就是 90°，那么 `a·b=0`，用 JavaScript 代码表示就是：`a.x * b.x + a.y * b.y === 0;`

  2.  叉乘

      > 叉乘和点乘有两点不同：首先，向量叉乘运算的结果不是标量，而是一个向量；其次，两个向量的叉积与两个向量组成的坐标平面垂直

      ```js
        // 三维向量 a(x1, y1, z1) 和 b(x2, y2, z2)
      a X b = [y1 * z2 - y2 * z1, - (x1 * z2 - x2 * z1), x1 * y2 - x2 * y1]
      ```
